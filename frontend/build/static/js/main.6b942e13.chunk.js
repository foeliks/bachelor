(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{197:function(e,t,a){e.exports=a(342)},202:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(40),o=a.n(r),c=a(21),i=(a(147),a(202),a(77)),s=a(33),u=a(90),m=a(348),d=a(350),p=a(349),b=a(63),f=a(103),g=a(353),h=a(354);var E=function(e){return l.a.createElement("div",null,l.a.createElement(u.a,{justify:"space-between",align:"middle"},l.a.createElement(m.a,{title:"Themen"}),l.a.createElement("div",{style:{marginRight:"16px"}},e.values.sumStars," ",l.a.createElement(g.a,null))),l.a.createElement(d.a,null,e.values.categories.map((function(t){return l.a.createElement(d.a.Panel,{key:t.id,header:t.title,extra:l.a.createElement(p.a,{percent:t.progress.toFixed()})},t.tasks.map((function(a){return l.a.createElement("div",{style:{marginTop:"10px"},key:a.id},l.a.createElement(u.a,{justify:"space-between",align:"middle"},l.a.createElement(u.a,{align:"middle",style:{marginLeft:"10px",color:"grey"}},l.a.createElement(b.a,{danger:a.required_employee_rank&&e.values.employeeRank.id<a.required_employee_rank.id||a.achieve_employee_rank&&!e.functions.solvedNeededTasks(t.id)||a.required_stars&&e.values.sumStars<a.required_stars,href:"/task/".concat(a.id),style:a.solved?{backgroundColor:e.values.robobGreen,color:"white",marginRight:"10px"}:{marginRight:"10px"}},"Aufgabe ",a.id),a.required_employee_rank&&e.values.employeeRank.id<a.required_employee_rank.id?'(Mitarbeiter Rang "'.concat(a.required_employee_rank.title,'" ben\xf6tigt)'):a.achieve_employee_rank&&!e.functions.solvedNeededTasks(t.id)?"(Nicht alle Pflicht-Aufgaben gel\xf6st)":a.required_stars&&e.values.sumStars<a.required_stars?l.a.createElement("div",null,"(",a.required_stars,"  ",l.a.createElement(g.a,null)," ben\xf6tigt)"):a.achieve_employee_rank?"(Rang Aufstieg: ".concat(a.achieve_employee_rank.title,")"):a.optional?"(optional)":""),a.solved&&l.a.createElement("div",{style:{float:"right"}},3===a.stars?l.a.createElement(g.a,null):l.a.createElement(h.a,null),a.stars>=2?l.a.createElement(g.a,null):l.a.createElement(h.a,null),l.a.createElement(g.a,null))))})))}))),e.values.sumStars>0&&l.a.createElement(f.a,{checked:e.values.ignoreOptional,disabled:0===e.values.nextTaskWithoutOptional,style:{marginTop:"20px"},onChange:function(t){return e.functions.setIgnoreOptional(t.target.checked)}},"Optionale Aufgaben ignorieren"),l.a.createElement("br",null),l.a.createElement(b.a,{style:{marginTop:"10px"},type:"primary",href:"/task/".concat(e.values.ignoreOptional?e.values.nextTaskWithoutOptional:e.values.nextTaskWithOptional)},e.values.sumStars?"N\xe4chste Aufgabe":"Los geht's"))},v=a(53),y=a(347),k=a(127),O=a(346),j=a(351),S=a(344);var w=function(e){var t=Object(n.useState)(0),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(window.innerWidth<=1e3),s=Object(c.a)(i,2),d=s[0],p=s[1];Object(n.useEffect)((function(){var e=function(){window.innerWidth<=1300&&!1===d?p(!0):window.innerWidth>=1300&&!0===d&&p(!1)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var f={0:l.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:18}},{onFinish:function(t){fetch("http://localhost:8000/token-auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){localStorage.setItem("token",t.token),e.functions.setLoggedIn(!0)})).catch((function(e){return console.error(e)}))}}),l.a.createElement(O.a.Item,{label:"Benutzername",name:"username",rules:[{required:!0,message:"Bitte geben Sie Ihren Benutzernamen ein!"}]},l.a.createElement(j.a,null)),l.a.createElement(O.a.Item,{label:"Passwort",name:"password",rules:[{required:!0,message:"Bitte geben Sie ein Passwort ein!"}]},l.a.createElement(j.a.Password,null)),l.a.createElement(O.a.Item,{wrapperCol:{offset:6}},l.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Anmelden"))),1:l.a.createElement(O.a,Object.assign({},{labelCol:{span:6},wrapperCol:{span:18}},{onFinish:function(t){fetch("http://localhost:8000/robob/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){localStorage.setItem("token",t.token),e.functions.setLoggedIn(!0)})).catch((function(e){return console.error(e)}))}}),l.a.createElement(O.a.Item,{label:"Email-Adresse",name:"email",rules:[{required:!0,message:"Bitte geben Sie Ihre Email-Adresse ein!"},{type:"email",message:"Die eingegebene Email-Adresse ist ung\xfcltig"}]},l.a.createElement(j.a,null)),l.a.createElement(O.a.Item,{label:"Benutzername",name:"username",rules:[{required:!0,message:"Bitte geben Sie Ihren Benutzernamen ein!"}]},l.a.createElement(j.a,null)),l.a.createElement(O.a.Item,{label:"Passwort",name:"password",rules:[{required:!0,message:"Bitte geben Sie ein Passwort ein!"}]},l.a.createElement(j.a.Password,null)),l.a.createElement(O.a.Item,{label:"Passwort wiederholen",name:"repeatPassword",rules:[{required:!0,message:"Bitte wiederholen Sie Ihr Passwort!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("Die eingegebenen Passw\xf6rter stimmen nicht \xfcberein"):Promise.resolve()}}}]},l.a.createElement(j.a.Password,null)),l.a.createElement(O.a.Item,{wrapperCol:{offset:6}},l.a.createElement(b.a,{type:"primary",htmlType:"submit"},"Registrieren")))},g=l.a.createElement(b.a,{onClick:function(){localStorage.removeItem("token"),e.functions.setLoggedIn(!1)}},"Logout");return l.a.createElement(S.a,null,l.a.createElement(S.a.Content,null,l.a.createElement(m.a,{className:"site-page-header",title:"Melde dich an, um anzufangen"}),e.values.loggedIn?g:d?l.a.createElement(y.a,{tabList:[{key:0,tab:"Anmelden"},{key:1,tab:"Registrieren"}],onTabChange:function(e){return o(e)}},f[r]):l.a.createElement(y.a,null,l.a.createElement(u.a,null,l.a.createElement(v.a,{flex:1},f[0]),l.a.createElement(v.a,{flex:1},f[1])))))};var _=function(e){return l.a.createElement("div",null,l.a.createElement(m.a,{title:"Willkommen bei Robob".concat(e.values.loggedIn?", ".concat(e.values.username):"","!")}),l.a.createElement("p",null,"Hier kannst Du die Grundlagen in JavaScript erlernen! Dazu hast Du die Wahl zwischen zwei Lernmethoden:"),l.a.createElement(u.a,{gutter:16},l.a.createElement(v.a,{span:12},l.a.createElement(y.a,{title:"Gamification",style:e.values.loggedIn&&0===e.values.gameMode?{border:"2px solid",borderColor:"#7CB6FF"}:{}},l.a.createElement("p",null,"Die ",l.a.createElement("b",null,"schnelle")," Variante",l.a.createElement("br",null),"Zus\xe4tzlich zu \xfcblichen Website Elementen gibt es Elemente, die man aus Videospielen kennt:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Fortschrittsanzeigen"),l.a.createElement("li",null,"Punkte (Sterne)"),l.a.createElement("li",null,"Rangliste"),l.a.createElement("li",null,"Auszeichnungen (Mitarbeiter-Rang)")))),l.a.createElement(v.a,{span:12},l.a.createElement(y.a,{title:"Serious Game",style:e.values.loggedIn&&1===e.values.gameMode?{border:"2px solid",borderColor:"#7CB6FF"}:{}},l.a.createElement("p",null,"Die ",l.a.createElement("b",null,"kreative")," Variante",l.a.createElement("br",null),"Zus\xe4tzlich zu den Gamification Elementen, spielst du ein Spiel und hast dort weitere interessante Elemente:"),l.a.createElement("ul",null,l.a.createElement("li",null,'Spielen/Handeln als "Robob"'),l.a.createElement("li",null,'Interagieren mit Kollegen der "IT-Things Corp."'),l.a.createElement("li",null,"Entdecken der Spielwelt"),l.a.createElement("li",null,"Aufdecken von Geheimnissen"))))),l.a.createElement("p",{style:{marginTop:"10px"}},"PS: Bei beiden Varianten musst Du die gleichen Aufgaben erledigen."),e.values.loggedIn?l.a.createElement("div",null,l.a.createElement(u.a,null,l.a.createElement(k.a.Group,{defaultValue:e.values.gameMode,style:{marginBot:"10px"},onChange:function(t){return e.values.gameMode!==t.target.value&&e.functions.setGameMode(t.target.value)}},l.a.createElement(k.a.Button,{value:0},"Gamification"),l.a.createElement(k.a.Button,{value:1},"Serious Game"))),e.values.sumStars>0&&l.a.createElement(f.a,{checked:e.values.ignoreOptional,disabled:0===e.values.nextTaskWithoutOptional,style:{marginTop:"10px"},onChange:function(t){return e.functions.setIgnoreOptional(t.target.checked)}},"Optionale Aufgaben ignorieren"),l.a.createElement("br",null),l.a.createElement(b.a,{style:{marginTop:"10px"},type:"primary",href:"/task/".concat(e.values.ignoreOptional?e.values.nextTaskWithoutOptional:e.values.nextTaskWithOptional)},e.values.sumStars?"N\xe4chste Aufgabe":"Los geht's")):l.a.createElement(w,{values:e.values,functions:e.functions}))},C=a(31),I=a(56);var x=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(""),m=Object(c.a)(i,2),d=m[0],p=m[1],b=Object(s.f)();Object(n.useEffect)((function(){"/"===window.location.pathname?p("1"):"/overview"===window.location.pathname?p("2"):"/diary"===window.location.pathname?p("3"):"/ranking"===window.location.pathname&&p("4")}),[]);var f=function(){return l.a.createElement("div",null,l.a.cloneElement(e.children,Object(C.a)({},e)))};return l.a.createElement(S.a,{style:{minHeight:"100vh"}},e.values.loggedIn&&l.a.createElement(S.a.Sider,{collapsible:!0,collapsed:r,onCollapse:function(){return o(!r)}},l.a.createElement("div",{className:"logo"}),l.a.createElement(I.a,{theme:"dark",mode:"inline",selectedKeys:[d]},l.a.createElement(I.a.Item,{style:{backgroundColor:"#002140",color:"white"}},l.a.createElement(u.a,null,e.values.username," ",e.values.employeeRank&&e.values.employeeRank.title?l.a.createElement("p",{style:{color:"#7CB6FF"}},"\xa0 (",e.values.employeeRank.title,")"):l.a.createElement("div",null))),l.a.createElement(I.a.Item,{key:"1",onClick:function(){return b.push("/")}},"Startseite"),l.a.createElement(I.a.Item,{key:"2",onClick:function(){return b.push("/overview")}},"\xdcbersicht"),l.a.createElement(I.a.Item,{key:"3",onClick:function(){return b.push("/diary")}},"Tagebuch"),l.a.createElement(I.a.Item,{key:"4",onClick:function(){return b.push("/ranking")}},"Rangliste"),l.a.createElement(I.a.Item,{key:"5",href:"/",onClick:function(){return e.functions.logOut()}},"Abmelden"))),l.a.createElement(S.a,null,l.a.createElement(S.a.Content,{style:{padding:"50px 50px"}},l.a.createElement(f,e))))},T=a(89),A=a(192),B=a(102),R=a(352),z=a(181),P=a(355),q=a(100),M=a.n(q);var W=function(e){var t=Object(s.f)();return l.a.createElement("div",null,l.a.createElement(m.a,{title:"Du bist Klasse",onBack:function(){return t.push("/overview")}}),l.a.createElement(y.a,{style:{border:"2px solid",borderColor:e.values.robobGreen,marginBottom:"10px"}},l.a.createElement("p",null,"Du hast den h\xf6chsten Rang erreicht und damit Robob durchgespielt!",l.a.createElement("br",null),"Du kannst stolz auf dich sein!")),1==e.values.gameMode&&l.a.createElement("div",{onClick:function(){return e.values.unityContent.send("EventSystem","enableKeyboard")}},l.a.createElement(M.a,{unityContent:e.values.unityContent})))};var F=function(e){var t=Object(s.f)();return l.a.createElement("div",null,l.a.createElement(m.a,{title:"Aufgabe ".concat(e.values.task&&e.values.task.id?e.values.task.id:""," ").concat(e.values.task&&e.values.task.optional?" (optional)":""),onBack:function(){return t.push("/overview")}}),l.a.createElement(y.a,{title:"Hoppla",style:{marginTop:"10px",border:"2px solid",borderColor:"red"}},e.values.task&&e.values.task.required_employee_rank&&e.values.employeeRank.id<e.values.task.required_employee_rank.id?l.a.createElement("p",null,"F\xfcr diese Aufgabe ben\xf6tigst du einen h\xf6heren Mitarbeiter Rang!",l.a.createElement("br",null),"Du bist bisher ",e.values.employeeRank.title?e.values.employeeRank.title:"Ranglos"," und musst mindestens ",e.values.task.required_employee_rank.title," sein.",l.a.createElement("br",null),"Um einen h\xf6heren Rang zu erreichen, erledige die letzten Aufgaben in den jeweiligen Kapiteln"):e.values.task&&e.values.task.achieve_employee_rank&&!e.functions.solvedNeededTasks(e.values.task.category_id)?l.a.createElement("p",null,"F\xfcr diese Aufgabe musst du erst die Pflicht-Aufgaben dieses Kapitels erledigen!"):e.values.task&&e.values.task.required_stars&&e.values.sumStars<e.values.task.required_stars?l.a.createElement("p",null,"F\xfcr diese Aufgabe hast Du doch nicht genug Sterne gesammelt!",l.a.createElement("br",null),"Du hast bisher ",e.values.sumStars?e.values.sumStars:0," und ben\xf6tigst mindestens ",e.values.task.required_stars,".",l.a.createElement("br",null),"Entweder du versuchst deine bisherigen Bewertungen zu verbessern oder du bearbeitest die optionalen Aufgaben."):l.a.createElement("p",null,"Hier gibt es keine Aufgabe f\xfcr dich!")))},J=new q.UnityContent("/Build/game.json","/Build/UnityLoader.js");var N=function(e){var t=Object(s.g)().id,a=Object(s.f)(),r=l.a.createRef(),o=l.a.createRef(),i=l.a.createRef(),p=Object(n.useState)(t),E=Object(c.a)(p,2),k=E[0],O=E[1],S=Object(n.useState)(!0),w=Object(c.a)(S,2),_=w[0],I=w[1],x=Object(n.useState)({}),q=Object(c.a)(x,2),N=q[0],D=q[1],G=Object(n.useState)(!1),L=Object(c.a)(G,2),H=L[0],V=L[1],K=Object(n.useState)(""),U=Object(c.a)(K,2),Z=U[0],Q=U[1],X=Object(n.useState)(!1),Y=Object(c.a)(X,2),$=Y[0],ee=Y[1],te=Object(n.useState)(""),ae=Object(c.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(!1),oe=Object(c.a)(re,2),ce=oe[0],ie=oe[1],se=Object(n.useState)([]),ue=Object(c.a)(se,2),me=ue[0],de=ue[1],pe=Object(n.useState)(!1),be=Object(c.a)(pe,2),fe=be[0],ge=be[1],he=Object(n.useState)({}),Ee=Object(c.a)(he,2),ve=Ee[0],ye=Ee[1],ke=Object(n.useState)(e.values.nextTaskWithOptional),Oe=Object(c.a)(ke,2),je=Oe[0],Se=Oe[1],we=Object(n.useState)(e.values.nextTaskWithoutOptional),_e=Object(c.a)(we,2),Ce=_e[0],Ie=_e[1],xe=Object(n.useState)(e.values.progress),Te=Object(c.a)(xe,2),Ae=Te[0],Be=Te[1],Re=Object(n.useState)(!(e.values.gameMode>0)),ze=Object(c.a)(Re,2),Pe=ze[0],qe=ze[1],Me=Object(C.a)(Object(C.a)({},e.values),{},{task:N,loading:_,unityContent:J});Object(n.useEffect)((function(){i.current&&i.current.scrollIntoView({behavior:"smooth",block:"start"})}),[i]),Object(n.useEffect)((function(){J.on("activateTask",(function(e){O(e),qe(!0)})),J.on("deactivateTask",(function(){qe(!1)})),J.on("loaded",(function(){J.send("EventSystem","setInputJson",JSON.stringify(e.values.progress))})),J.on("saveProgress",(function(){e.functions.setProgress(Ae),window.location.pathname==="/task/".concat(je)?window.location.reload():a.push("/task/".concat(je))}))}),[]),Object(n.useEffect)((function(){0!==k&&fetch("http://localhost:8000/robob/task/".concat(k),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){200!==t.status?(D({}),e.functions.logOut()):t.json().then((function(e){if(D(e),e.specify&&"multiple_choice"===e.type){var t={};e.specify.options.map((function(e){t[e.id]=!1})),ye(t)}else e.specify&&"code"===e.type&&Q(e.specify.placeholder_middle)})).then(I(!1))})).catch((function(e){return console.error(e)}))}),[k]),Object(n.useEffect)((function(){ce&&fetch("http://localhost:8000/robob/task/".concat(k),{method:"post",headers:{Authorization:"JWT ".concat(localStorage.getItem("token")),"Content-Type":"application/json"},body:JSON.stringify({task_id:N.id,solution:ne,user_solution:"code"===N.type?N.specify.placeholder_before+"\n"+Z+"\n"+N.specify.placeholder_after:ne})}).then((function(t){202===t.status?(de((function(e){return[].concat(Object(A.a)(e),[k])})),ge(!1),ie(!1),t.json().then((function(e){D(Object(C.a)(Object(C.a)({},N),{},{solved_stars:e.solved_stars})),Se(e.task_with_optional),Ie(e.task_without_optional)})),fetch("http://localhost:8000/robob/actual-progress",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){200!==t.status?e.functions.logOut():t.json().then((function(e){Be(e),J.send("EventSystem","setInputJson",JSON.stringify(e))}))})).catch((function(e){return console.error(e)}))):200===t.status?(ge(!0),ie(!1),t.json().then((function(e){D(Object(C.a)(Object(C.a)({},N),{},{tries:e.tries}))}))):e.functions.logOut()})).catch((function(e){return console.error(e)})),me.some((function(e){return e===k}))&&r.current&&r.current.scrollIntoView({behavior:"smooth",block:"start"})}),[ce]);var We=function(){return H&&{color:"green",backgroundColor:"black"}},Fe=function(){return ce?{}:fe?{border:"2px solid",borderColor:"red"}:me.some((function(e){return e===k}))&&{border:"2px solid",borderColor:e.values.robobGreen}};return l.a.createElement("div",null,_?l.a.createElement(z.a,{indicator:l.a.createElement(P.a,{style:{fontSize:24},spin:!0}),style:{display:"flex",justifyContent:"center"}}):k&&0!=k?Object.entries(N).length>0&&!(N.required_employee_rank&&e.values.employeeRank.id<N.required_employee_rank.id||N.achieve_employee_rank&&!e.functions.solvedNeededTasks(N.category_id)||N.required_stars&&e.values.sumStars<N.required_stars)?l.a.createElement("div",null,e.values.gameMode?l.a.createElement(u.a,{ref:o,justify:"space-between",align:"middle"},l.a.createElement(m.a,{title:"Robob",onBack:function(){return a.push("/overview")}}),l.a.createElement("div",{style:{marginRight:"16px"}},Ae.sum_stars," ",l.a.createElement(g.a,null))):l.a.createElement(u.a,{justify:"space-between",align:"middle"},e.values.gameMode?l.a.createElement(m.a,{title:"Aufgabe ".concat(N.id?N.id:""," ").concat(N.optional?" (optional)":"")}):l.a.createElement(m.a,{title:"Aufgabe ".concat(N.id?N.id:""," ").concat(N.optional?" (optional)":""),onBack:function(){return a.push("/overview")}}),"Fehlversuche: ",N.tries?N.tries:0,N.stars>0?l.a.createElement("div",null,3===N.stars?l.a.createElement(g.a,null):l.a.createElement(h.a,null),N.stars>=2?l.a.createElement(g.a,null):l.a.createElement(h.a,null),l.a.createElement(g.a,null)):l.a.createElement("div",null)),e.values.gameMode>0&&l.a.createElement("div",{onClick:function(){return J.send("EventSystem","enableKeyboard")}},l.a.createElement(M.a,{unityContent:J})),Pe&&l.a.createElement("div",{ref:i},e.values.gameMode>0&&l.a.createElement(u.a,{justify:"space-between",align:"middle"},e.values.gameMode?l.a.createElement(m.a,{title:"Aufgabe ".concat(N.id?N.id:""," ").concat(N.optional?" (optional)":"")}):l.a.createElement(m.a,{title:"Aufgabe ".concat(N.id?N.id:""," ").concat(N.optional?" (optional)":""),onBack:function(){return a.push("/overview")}}),"Fehlversuche: ",N.tries?N.tries:0,N.stars>0?l.a.createElement("div",null,3===N.stars?l.a.createElement(g.a,null):l.a.createElement(h.a,null),N.stars>=2?l.a.createElement(g.a,null):l.a.createElement(h.a,null),l.a.createElement(g.a,null)):l.a.createElement("div",null)),l.a.createElement(y.a,{title:"Aufgabenstellung",style:{marginBottom:"10px"}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:N.description}})),N.knowledge&&l.a.createElement(d.a,{defaultActiveKey:"1",style:{marginBottom:"10px"}},l.a.createElement(d.a.Panel,{key:"1",header:"Info"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:N.knowledge}}),l.a.createElement("p",{style:{marginTop:"10px",color:"grey"}},"PS: Du kannst alle Infos auch nochmal im ",l.a.createElement("a",{href:"/diary"},"Tagebuch")," nachlesen"))),N.specify&&("input"===N.type?l.a.createElement(y.a,{style:Object(C.a)({},Fe())},N.specify.inputs.map((function(e){return l.a.createElement(j.a,{addonBefore:e.label,disabled:me.some((function(e){return e===k})),spellCheck:!1,placeholder:e.placeholder,onChange:function(){return ye(Object(C.a)(Object(C.a)({},ve),{},Object(T.a)({},e.id,document.getElementById("input ".concat(e.id)).value)))},id:"input ".concat(e.id),style:{marginBottom:"5px"}})}))):"select"===N.type?l.a.createElement(y.a,{style:Object(C.a)({},Fe())},N.specify.selects.map((function(e){return l.a.createElement("div",null,l.a.createElement("label",null,e.label," "),l.a.createElement(B.a,{style:{marginBottom:"5px"},key:e.id,disabled:me.some((function(e){return e===k})),defaultValue:"Ausw\xe4hlen",onSelect:function(t){return ye(Object(C.a)(Object(C.a)({},ve),{},Object(T.a)({},e.id,t)))}},e.options.map((function(e){return l.a.createElement(B.a.Option,{value:e},e)}))))}))):"multiple_choice"===N.type?l.a.createElement(y.a,{style:Object(C.a)({},Fe())},N.specify.options.map((function(e){return l.a.createElement(f.a,{disabled:me.some((function(e){return e===k})),id:e.id,onChange:function(e){return ye(Object(C.a)(Object(C.a)({},ve),{},Object(T.a)({},e.target.id,e.target.checked)))}},e.text)}))):"code"===N.type&&l.a.createElement("div",null,l.a.createElement(y.a,{title:"Code-Eingabe",headStyle:Object(C.a)({},We()),style:Object(C.a)(Object(C.a)({},We()),Fe())},l.a.createElement("p",{style:{fontFamily:"Hack",whiteSpace:"pre-line"}},N.specify.placeholder_before),l.a.createElement(j.a.TextArea,{disabled:me.some((function(e){return e===k})),style:Object(C.a)({fontFamily:"Hack"},We()),onKeyDown:function(e){if(9===e.keyCode){e.preventDefault();var t=e.target.selectionEnd;e.target.value=e.target.value.substring(0,t)+"\t"+e.target.value.substring(t,e.target.value.length),e.target.selectionEnd=t+1}},defaultValue:N.specify.placeholder_middle?N.specify.placeholder_middle:"",onChange:function(){return Q(document.getElementById("textarea").value)},spellCheck:!1,id:"textarea",rows:5}),l.a.createElement("p",{style:{fontFamily:"Hack",whiteSpace:"pre-line"}},N.specify.placeholder_after)),l.a.createElement(y.a,{title:"Ausgabe",headStyle:Object(C.a)({},We()),style:Object(C.a)(Object(C.a)({marginTop:"10px"},$&&{border:"2px solid",borderColor:"red"}),We())},l.a.createElement("p",{style:{fontFamily:"Hack"}},ne)))),l.a.createElement(u.a,{style:{marginTop:"10px"},justify:"space-between"},l.a.createElement(v.a,null,l.a.createElement(b.a,{disabled:me.some((function(e){return e===k})),type:"primary",onClick:function(){ie(!0),function(){if(N.specify)if("code"===N.type){var e="",t='"use strict";\n'+N.specify.placeholder_before+"\n"+Z+"\n"+N.specify.placeholder_after;try{var a=new Function(t)();e=void 0===a?"":String(a),ee(!1)}catch(n){e="Error: "+n.message,ee(!0)}le(e)}else"multiple_choice"!==N.type&&"select"!==N.type&&"input"!==N.type||le(JSON.stringify(ve))}()}},"Best\xe4tigen")),N.specify&&"code"===N.type&&l.a.createElement(v.a,null,l.a.createElement("label",null,"Hacker-Mode "),l.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"flex-end"},onChange:function(e){V(e),document.getElementById("textarea").value=Z}}))),me.some((function(e){return e===k}))?l.a.createElement(y.a,{style:{backgroundColor:e.values.robobGreen,marginTop:"10px"}},l.a.createElement("h1",{style:{color:"white"}},"Geschafft!"),N.solved_stars>0?l.a.createElement("div",null,3===N.solved_stars?l.a.createElement(g.a,{style:{color:"yellow"}}):l.a.createElement(h.a,null),N.solved_stars>=2?l.a.createElement(g.a,{style:{color:"yellow"}}):l.a.createElement(h.a,null),l.a.createElement(g.a,{style:{color:"yellow"}})):l.a.createElement("div",null),N.achieve_employee_rank&&N.achieve_employee_rank.id>e.values.employeeRank.id&&l.a.createElement("p",null,"Herzlichen Gl\xfcckwunsch, du bist jetzt ein ",N.achieve_employee_rank.title),l.a.createElement(f.a,{checked:e.values.ignoreOptional,disabled:0===Ce,style:{marginTop:"20px",color:"white"},onChange:function(t){return e.functions.setIgnoreOptional(t.target.checked)}},"Optionale Aufgaben ignorieren"),l.a.createElement("br",null),l.a.createElement(u.a,{style:{marginTop:"10px"},justify:"space-between"},l.a.createElement(b.a,{type:"primary",href:"/task/".concat(e.values.ignoreOptional?Ce:je)},e.values.gameMode?"Ergebnis speichern & Tag beenden":"Ergebnis speichern & Fortsetzen"),e.values.gameMode>0&&l.a.createElement(b.a,{onClick:function(){o.current.scrollIntoView({behavior:"smooth",block:"start"}),J.send("EventSystem","enableKeyboard")}},"Zur\xfcck zum Spiel"))):l.a.createElement("div",null),l.a.createElement("div",{ref:r}))):l.a.createElement(F,{values:Me,functions:e.functions}):e.values.employeeRank&&6===e.values.employeeRank.id?l.a.createElement(W,{values:Me,functions:e.functions}):l.a.createElement(F,{values:Me,functions:e.functions}))};var D=function(e){return l.a.createElement("div",null,l.a.createElement(m.a,{title:"Tagebuch"}),l.a.createElement(d.a,null,e.values.diary.map((function(e){return l.a.createElement(d.a.Panel,{header:e.title,key:e.id},e.knowledge.map((function(e){return l.a.createElement(y.a,{style:{marginTop:"5px",border:"2px solid",borderColor:"#7CB6FF"}},l.a.createElement("div",{key:e.id,dangerouslySetInnerHTML:{__html:e.description}}))})))}))))},G=a(345);var L=function(e){var t=Object(n.useState)(!0),a=Object(c.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)([]),s=Object(c.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(-1),b=Object(c.a)(p,2),f=b[0],g=b[1];return Object(n.useEffect)((function(){fetch("http://localhost:8000/robob/ranking",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(t){200!==t.status?(d([]),e.functions.logOut()):t.json().then((function(e){d(e),o(!1)}))})).catch((function(e){return console.error(e)}))}),[e.functions]),l.a.createElement("div",null,l.a.createElement(m.a,{title:"Rangliste"}),r?l.a.createElement(z.a,{indicator:l.a.createElement(P.a,{style:{fontSize:24},spin:!0}),style:{display:"flex",justifyContent:"center"}}):l.a.createElement(G.a,{onRow:function(t,a){return t.username===e.values.username&&g(a)},rowClassName:function(e,t){return t===f&&"highlight-row"},dataSource:u},l.a.createElement(G.a.Column,{title:"Platzierung",dataIndex:"place",key:"place"}),l.a.createElement(G.a.Column,{title:"Benutzer",dataIndex:"username",key:"username"}),l.a.createElement(G.a.Column,{title:"Sterne",dataIndex:"stars",key:"stars"}),l.a.createElement(G.a.Column,{title:"Mitarbeiter Rang",dataIndex:"employee_rank",key:"employee_rank"})))};var H=function(){var e=Object(n.useState)(!!localStorage.getItem("token")),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),u=Object(c.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(null),b=Object(c.a)(p,2),f=b[0],g=b[1],h=Object(n.useState)(0),v=Object(c.a)(h,2),y=v[0],k=v[1],O=Object(n.useState)({id:0,title:null}),j=Object(c.a)(O,2),S=j[0],w=j[1],C=Object(n.useState)(!1),I=Object(c.a)(C,2),T=I[0],A=I[1],B=Object(n.useState)(0),R=Object(c.a)(B,2),z=R[0],P=R[1],q=Object(n.useState)(0),M=Object(c.a)(q,2),W=M[0],F=M[1],J=Object(n.useState)(!1),G=Object(c.a)(J,2),H=G[0],V=G[1],K=Object(n.useState)([]),U=Object(c.a)(K,2),Z=U[0],Q=U[1],X=Object(n.useState)([]),Y=Object(c.a)(X,2),$=Y[0],ee=Y[1],te=Object(n.useState)({}),ae=Object(c.a)(te,2),ne=ae[0],le=ae[1];Object(n.useEffect)((function(){a&&(fetch("http://localhost:8000/robob/current_user/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){d(e.username),!1===e.game_mode?g(0):g(1),w(e.employee_rank)})).catch((function(e){console.error(e),re()})),fetch("http://localhost:8000/token-auth-refresh/",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:localStorage.getItem("token")})}).then((function(e){200!==e.status?(console.error(e),re()):e.json().then((function(e){localStorage.setItem("token",e.token),A(!1)}))})).catch((function(e){console.error(e),re()})),fetch("http://localhost:8000/robob/actual-progress",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){200!==e.status?(Q([]),ee([]),re()):e.json().then((function(e){Q(e.categories),ee(e.diary),k(e.sum_stars),w(e.employee_rank),le(e)}))})).catch((function(e){return console.error(e)})),fetch("http://localhost:8000/robob/next-task/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){200!==e.status?re():e.json().then((function(e){P(e.task_with_optional),F(e.task_without_optional)}))})).catch((function(e){return console.error(e)})))}),[a]),Object(n.useEffect)((function(){a&&null!=f&&fetch("http://localhost:8000/robob/game-mode/".concat(f),{method:"post",headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).catch((function(e){return console.error(e)}))}),[f]);var re=function(){localStorage.removeItem("token"),r(!1),A(!0),d("")},oe={loggedIn:a,username:m,gameMode:f,sumStars:y,employeeRank:S,categories:Z,diary:$,progress:ne,nextTaskWithOptional:z,nextTaskWithoutOptional:W,ignoreOptional:H,robobGreen:"#52C41A"},ce={setLoggedIn:r,setUsername:d,setGameMode:g,setSumStars:k,setCategories:Q,setDiary:ee,setNextTaskWithOptional:P,setNextTaskWithoutOptional:F,setIgnoreOptional:V,setProgress:le,logOut:re,solvedNeededTasks:function(e){var t=!0;try{Z.filter((function(t){return t.id===e}))[0].tasks.forEach((function(e){e.achieve_employee_rank||e.optional||e.solved||(t=!1)}))}catch(a){console.error(a)}return t}};return l.a.createElement(i.a,null,l.a.createElement(s.b,{exact:!0,path:"/"},l.a.createElement(x,{values:oe,functions:ce},l.a.createElement(_,null))),l.a.createElement(s.b,{path:"/overview"},T?l.a.createElement(s.a,{to:"/"}):l.a.createElement(x,{values:oe,functions:ce},l.a.createElement(E,null))),l.a.createElement(s.b,{path:"/diary"},T?l.a.createElement(s.a,{to:"/"}):l.a.createElement(x,{values:oe,functions:ce},l.a.createElement(D,null))),l.a.createElement(s.b,{path:"/task/:id"},T?l.a.createElement(s.a,{to:"/"}):l.a.createElement(x,{values:oe,functions:ce},l.a.createElement(N,null))),l.a.createElement(s.b,{path:"/ranking"},T?l.a.createElement(s.a,{to:"/"}):l.a.createElement(x,{values:oe,functions:ce},l.a.createElement(L,null))))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(H,null)),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.6b942e13.chunk.js.map